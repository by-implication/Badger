@import bourbon/bourbon
@import neat/neat
@import font-awesome/font-awesome

@import mixins
@import variables
@import flatbutton
// @import scrollbar

@import comments

body
	+reset-and-normalize
	margin: 0px
	font-family: $font
	color: #333
	line-height: 1.4
	background-color: #eee

	a
		color: #333
		text-decoration: none

	p
		margin-bottom: 10px
	h1
		font-size: 40px
		font-weight: 300
	h2
		font-size: 32px
		font-weight: 300
		margin-bottom: 20px

	h3
		font-size: 24px
		font-weight: 300
	h4
		font-weight: bold
		margin-bottom: 10px

	input
		outline: none
		outline-color: transparent
		border: 1px solid rgba(black, 0.1)
		border-radius: 3px
		padding: 6px
		font-family: $font
		margin-bottom: 10px

	.monospace
		font-family: $monospace
		font-weight: bold

	.italic
		font-style: oblique

	.de-em
		font-size: 14px
		color: #aaa

	ul
		list-style: none
		padding: 0

	button
		+reset-button()

// .label
	// background-color: rgba(black, 0.1)
	// padding: 6px 8px 4px 8px

.fade
	+transition(all 0.2s)
	&.ng-enter, &.ng-leave.ng-leave-active
		opacity: 0
	&.ng-leave, &.ng-enter.ng-enter-active
		opacity: 1

// .grow
// 	+transition(all 0.2s)
// 	&.ng-enter, &.ng-leave.ng-leave-active
// 		max-height: 0
// 		opacity: 0
// 	&.ng-leave, &.ng-enter.ng-enter-active
// 		max-height: 256px
// 		opacity: 1

=grow($height)
	+transition(all 0.2s)
	display: block!important
	&.ng-hide-add, &.ng-hide-remove.ng-hide-remove-active
		height: $height
	&.ng-hide-remove, &.ng-hide-add.ng-hide-add-active
		height: 0px
	&.ng-hide
		height: 0px
	

.move
	+transition(all 1s)
	&.ng-enter, &.ng-leave.ng-leave-active, &.ng-move
		opacity: 0
		// max-height: 0
		// max-width: 0
	&.ng-leave, &.ng-enter.ng-enter-active, &.ng-move.ng-move-active
		opacity: 1
		// max-height: 256px
		// max-width: 512px

header
	height: 64px
	box-shadow: 0px 1px 0px rgba(black, 0.05)
	background-color: $accent
	position: relative
	z-index: 1010
	text-transform: capitalize
	nav
		ul
			+reset-list
			li
				float: left
				a
					+transition(all 0.2s)
					float: left
					display: block
					text-decoration: none
					color: desaturate(lighten($accent, 40%), 60%)
					padding: 20px
					height: 64px
					&:hover
						color: white

				&.current
					background-color: darken($accent, 5%)
					a 
						color: white
				

	nav.right
		float: right

#login-signup
	+outer-container
	padding-top: 64px
	h2
		margin-left: 6px
	.section
		+span-columns(3)
	#signup
		+shift(3)

section#banner
	background-color: white
	.result-label
		color: #ccc
		margin-top: 20px
		text-align: center
		font-weight: 300
		margin: 60px 0px
		button
			+transition(all 0.2s)
			font-weight: 300
			color: #333
			text-transform: capitalize
			padding: 6px 0px
				// font-weight: bold
			&:hover
				box-shadow: 0px 1px 0px #333
			&.active, &.active:hover
				background-color: #333
				color: white
				padding: 6px 8px
				box-shadow: none

section#projects
	+fill-parent()
	ul
		+clearfix
	&.grid
		.project
			+span-columns(3 of 12)
			+media($largeDesktop)
				+omega(4n)
			+media($smallDesktop)
				+span-columns(4 of 12)
				+omega(3n)
			+media($mobile)
				+fill-parent
			&.show-more
				+fill-parent
				text-align: center

	&.list
		.card
			+fill-parent
			+clearfix
			&:hover
				top: 0px
				left: 10px
			.ribbon
				float: left
				border-radius: 50%
				width: 80px
				height: 80px
				margin: 0 20px 0 0
				padding: 14px 0
				text-align: center
				font-size: 24px
				.category
					margin-top: -2px
					display: block
			.card-content
				margin: 0
				margin-left: 100px

.filter
	+clearfix()
	+transition(height 0.4s)
	$margin: 4px
	$bgcolor: rgba(black, 0.05)
	$triangleSize: 30px
	margin-top: 30px
	padding: 20px
	background-color: $bgcolor
	position: relative
	&:before
		+triangle($triangleSize, $bgcolor, up)
		top: -$triangleSize
		display: block
		content: ""
		position: absolute
		margin-left: 50%
		left: -$triangleSize/2
	ul
		+columns(6 20px)
		+media($smallDesktop)
			+columns(4 20px)
		+media($mobile)
			+columns(1)
		margin: 0 -$margin
		.item
			display: block
			button
				padding: 2px $margin 2px $margin
				&.active
					background-color: #333
					color: white
					border-radius: 2px

.modifiers
	+clearfix()
	padding: 10px
	margin-bottom: 20px
	background-color: rgba(black, 0.1)
	// background-color: #333
	// color: white
	.reverse
		padding: 8px 10px
	.sorts
		float: left
		&.active
			background-color: #333
			color: white
	.view-mode
		float: right
		+media($mobile)
			display: none
		button
			+transition(all 0.2s)
			padding: 10px
			color: #999
			&.active, &:hover
				color: #333
			// color: white
.card
	+transition(all 0.2s)
	display: block
	position: relative
	background-color: white
	padding: 20px
	margin-bottom: 20px
	box-shadow: 0px 2px 2px rgba(black, 0.1)
	text-decoration: none
	&:hover
		top: -10px
		box-shadow: 0px 12px 8px rgba(black, 0.1)
	.ribbon
		margin: -20px -20px 14px
		padding: 14px
		color: white
		.category
			display: none
			font-size: 10px
			text-align: center

.container
	+outer-container
	padding: 0px 20px

main
	+clearfix
	#click-instructions
		+grow(72px)
		height: 72px
		overflow: hidden
		background-color: rgba(white, 0.6)

	.rate-stub
		.num-rates
			font-size: 12px
		&.fixed i
			color: #333 
		&.rated i
			color: $accent 
		i
			color: #EB0 
		.apply-rating
			display: none
			i:hover
				cursor: pointer
				~ i
					&:before
						content: "\f006"  
		&:not(.fixed) .ratings:hover
			.apply-rating
				display: inline 
			.rating
				display: none 
		

.share
	margin-top: 60px
	button
		+reset-button
		&#point
			float: right
			margin-top: -4px
			margin-left: 6px
		&:hover, &.active
			color: orange
	a
		text-decoration: none
		text-align: left

#map
	+transition(all 0.4s)
	+grow(256px)
	margin: 0px -30px 20px
	height: 256px
.map-controls
	margin-bottom: 20px

#project-detail
	+box-sizing(border-box)
	+media($smallDesktop)
		padding: 10px
	position: absolute
	top: 0px
	width: 100%
	z-index: 1011
	// padding: 64px
	.ribbon
		padding: 30px
		color: white
		i.fa
			margin-right: 10px
			font-size: 18px
		.close
			+reset-button
			+transition(all 0.2s)
			float: right
			color: rgba(black, 0.4)
			&:hover
				color: rgba(black, 0.8)
			&:active
				color: black
	.close-container
		text-align: right
	.curtain
		background-color: rgba(black, 0.85)
		position: absolute
		z-index: 0
		top: 0px
		left: 0px
		width: 100%
		height: 100%
	.rate-stub
		font-size: 24px
		text-align: center
		.num-rates
			display: block
			font-size: 14px
	.container
		position: relative
		z-index: 1
		padding: 0px
		background-color: #eee
		margin-top: 64px
		margin-bottom: 64px
	h1
		margin-bottom: 20px
		text-align: center
	#detail
		+fill-parent
		+clearfix
		h2
			margin-top: 30px
		h3
			margin-bottom: 10px
			margin-top: 20px
			&:first-child
				margin-top: 0px
		h5
			font-size: 12px
			margin-top: 20px
			&:first-child
				margin-top: 0px
		.sidebar
			// +span-columns(4)
			float: left
			width: 33%
			+media($mobile)
				+fill-parent
			padding: 30px
		& > .content
			// +span-columns(8)
			float: left
			width: 67%
			+media($mobile)
				+fill-parent
			padding: 30px
			background-color: white
		.financial
			background-color: wheat
			padding: 20px
			margin-top: 20px
			// margin: 0px -20px 10px
			text-align: right
			color: #333
			h4
				margin-top: 20px
				&:first-child
					margin-top: 0px
		// 	+span-columns(4)
		// .ownership


.panel
	.content
		+media($mobile)
			// .content
				// +position(absolute, 0px 0px 0px 0px)
			position: relative
			z-index: 1006
			width: 100% !important
			overflow-y: visible
		+box-sizing(border-box)
		+position(absolute, 0px 0px 0px 0px)
		border-left: 1px solid rgba(black, 0.1)
		z-index: 1001
		background-color: #efefef
		overflow-x: hidden
		overflow-y: scroll
		.close
			+reset-button
			float: right
		.header
			padding: 20px
			padding-bottom: 0px

#filter-view
	.content
		width: 256px

		ul
			+reset-list
			padding: 20px
			margin-left: -6px
			li
				button
					+reset-button
					padding: 4px 6px 4px 6px
					border-radius: 3px
					color: #333
					text-transform: capitalize
					&:hover
						color: $accent
					&.active
						background-color: #333
						color: white

